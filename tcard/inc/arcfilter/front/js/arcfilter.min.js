/* 
 Author: Cloanta Alexandru
 Name: Tcard > Arcfilter Wordpress
 Version: 2.9.1
*/
!function(t){"use strict";function a(a,i){var e=this,r={filterNav:(a=t(a)).closest(".arcfilter-group").find(".arc-nav-item"),type:"hidden",displayItems:12,animations:["animated zoomIn"],random:!1,delayAnimation:100,speed:400,chooseLoad:"button",loadButton:a.closest(".arcfilter-group").find(".arc-loadmore"),noData:"No more data",loading:!1,loadingText:"Loading...",loadItems:6,counter:"onhover",tcard_set:null,cat_page:null,page:null,walker_menu:!1,use_param:[],callBack:function(){}};e.option=t.extend({},r,i);e.resizeContainer(a,i,"statikHeight"),t(document).on("ready",function(){e.init(a,e.option)})}a.prototype={init:function(a,i){var e=this;a.find(".arcfilter-item").css("display","none");var r=1;e.option.filterNav.on("click",function(n){var s=t(this).attr("data-category").toLowerCase();if(!t(this).hasClass("arc-filter-cl")){if("function"==typeof e.option.callBack&&e.option.callBack.call(e,i),(!t(this).hasClass("is_open_menu")&&e.is_mobile()||t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar"))&&(t(this).filter(".arc-subnav-item:not(.arc-subitem-curr)").closest(".arc-subnav").find(".arc-subnav").slideUp(300),t(this).filter(".arc-subnav-item:not(.arc-subitem-curr)").closest(".arc-subnav").find(e.option.filterNav).removeClass("is_open_menu"),t(this).filter(".arc-nav-main-item:not(.arc-item-curr)").closest(".arc-nav-filter").find(".arc-subnav").slideUp(300),t(this).filter(".arc-nav-main-item:not(.arc-item-curr)").closest(".arc-nav-filter").find(e.option.filterNav).removeClass("is_open_menu"),t(this).next(".arc-subnav").find(".arc-subnav").slideUp(300),t(this).next(".arc-subnav").find(e.option.filterNav).removeClass("is_open_menu")),t(this).hasClass("arc-subnav-item")){if(e.option.filterNav.removeClass("arc-filter-cl arc-item-curr arc-subitem-curr"),t(this).addClass("arc-filter-cl arc-subitem-curr"),t(this).closest(".item-list-first").find(".arc-nav-main-item").hasClass("arc-item-curr")||(a.find(".arc-nav-main-item").removeClass("arc-filter-cl arc-item-curr"),(e.is_mobile()||t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar"))&&a.find(".arc-nav-main-item").removeClass("is_open_menu"),t(this).closest(".item-list-first").find(".arc-nav-main-item").addClass("arc-item-curr"),(e.is_mobile()||t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar"))&&t(this).closest(".item-list-first").find(".arc-nav-main-item").addClass("is_open_menu")),1==e.option.walker_menu){var o=t(this).attr("data-parent");e.option.filterNav.each(function(){var a=t(this).attr("data-parent"),i=new RegExp("(^|\\W)"+a+"($|\\W)");o.match(i)&&(t(this).addClass("arc-subitem-curr").closest(".item-list-first").addClass("item-list-first-active"),(e.is_mobile()||t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar"))&&(t(this).closest(".arc-subnav.arc-nav-lvl0").slideDown(0),t(this).filter(":not(.arc-filter-cl)").addClass("is_open_menu").next(".arc-subnav").slideDown(0)))})}}else e.option.filterNav.removeClass("arc-filter-cl arc-item-curr arc-subitem-curr").parent().removeClass("item-list-first-active"),t(this).addClass("arc-filter-cl arc-item-curr").parent().addClass("item-list-first-active");e.filterCategory(a,i,s,r),t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar")||e.nav(t(this),a,i)}e.is_mobile()||t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar")?t(this).toggleClass("is_open_menu").next(".arc-subnav").slideToggle(300):e.option.filterNav.removeClass("is_open_menu"),r=0});var n=e.option.filterNav.next(".arc-subnav.arc-nav-lvl0").attr("data-animationin"),s=e.option.filterNav.next(".arc-subnav.arc-nav-lvl0").attr("data-animationout");e.option.filterNav.on("mouseenter",function(){t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar")||(e.is_mobile()?e.option.filterNav.next(".arc-subnav").removeClass(s,n):t(this).next(".arc-subnav").fadeIn(0).removeClass(s).addClass(n))}).closest(".arc-nav-item-list").on("mouseleave",function(){e.is_mobile()||t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar")||t(this).find(".arc-subnav").fadeOut().removeClass(n).addClass(s)}),a.closest(".arcfilter-group").find(".arc_mobile_open_menu").on("click",function(){if(t(this).hasClass("arc_sidebar-btn")){var a=t(this).closest(".arcfilter-menu").attr("data-dirr");t(this).closest(".arcfilter-menu").hasClass("slide")?t(this).closest(".arcfilter-menu").removeClass("slideIn"+a).addClass("slideOut"+a).fadeOut(600):t(this).closest(".arcfilter-menu").hasClass("fadeIn")&&t(this).closest(".arcfilter-menu").removeClass("fadeIn").addClass("fadeOut").fadeOut(600)}else t(this).closest(".arcfilter-group").find(".arcfilter-menu.arc-top-menu").slideToggle(300)}),a.closest(".arcfilter-group").find(".arc_open_wc_sidebar_btn").on("click",function(){if(t(this).closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar").hasClass("slide")){var a=t(this).closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar").attr("data-dirr");t(this).closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar").removeClass("slideOut"+a).addClass("slideIn"+a).fadeIn(0)}else t(this).parent().next(".arcfilter-menu.arc-nav-sidebar").hasClass("fadeIn")&&t(this).closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar").removeClass("fadeOut").addClass("fadeIn").fadeIn(0)}),t(window).on("resize",function(){e.nav(e.option.filterNav.filter(".arc-filter-cl"),a,i),t(window).width()>991&&a.closest(".arcfilter-group").find(".arcfilter-menu").hasClass("arc-top-menu")?(a.closest(".arcfilter-group").find(".arcfilter-menu.arc-top-menu .arc-nav-filter").find(".arc-subnav").removeAttr("style"),a.closest(".arcfilter-group").find(".arcfilter-menu.arc-top-menu").removeAttr("style")):t(window).width()>991&&a.closest(".arcfilter-group").find(".arcfilter-menu").hasClass("arc-nav-sidebar")&&a.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar").removeAttr("style")});if(e.option.filterNav.filter('[data-category= "'+e.option.cat_page+'"]').trigger("click"),"pagination"==e.option.chooseLoad){if("all"==e.option.displayItems){o=window.location.pathname;history.replaceState(null,null,o)}e.pagination(a,i,"pageLink",r),a.closest(".arcfilter-group").find(".arc-wc-price").length&&e.filter_price(a,i),a.closest(".arcfilter-group").find(".arc-wc-tags").length&&e.filter_tags(a,i),a.closest(".arcfilter-group").find(".arc-wc-attributes").length&&e.filter_attributes(a,i)}else{var o=window.location.pathname;history.replaceState(null,null,o),e.loadmore(a,i)}},nav:function(t,a,i){var e=this;if(t.closest(".arc-top-menu .arc-nav-filter").hasClass("style_1")){var r,n=t.closest(".arc-nav-filter").find(".arc-nav-line"),s=t.closest(".item-list-first");e.is_mobile()?(r=t.closest(".item-list-first").position().top,n.css({top:r,left:0,width:s.outerWidth(),height:t.outerHeight()})):(r=t.closest(".item-list-first").position().left,n.css({left:r,top:0,width:s.outerWidth(),height:s.outerHeight()})),setTimeout(function(){n.addClass("after")},100)}},filter_price:function(a,i){var e=this,r=a.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-price");if(r.hasClass("slider")){var n=r.find("#arc-slider-range");n.slider({range:!0,min:parseInt(n.attr("data-min")),max:parseInt(n.attr("data-max")),values:[parseInt(n.attr("data-start")),parseInt(n.attr("data-stop"))],slide:function(a,i){t(this).parent(".arc-wc-price").find(".arc_min_price").text(i.values[0]),t(this).parent(".arc-wc-price").find(".arc_max_price").text(i.values[1])},stop:function(t,r){var s,o=parseInt(n.attr("data-start")),l=parseInt(n.attr("data-stop"));o!==r.values[0]&&(s=["min_price"]),l!==r.values[1]&&(s=["max_price"]),o===r.values[0]&&l===r.values[1]||(n.attr("data-start",r.values[0]),n.attr("data-stop",r.values[1]),e.get_items("price",null,1,a,i),history.pushState(null,null,e.params(a,i,s,null)))}})}else{var s=r.find(".arc_price_values"),o=r.find(".arc_btn_filter_items");s.find("input").on("input",function(){t(this).parent().hasClass("arc_min_value")?s.find(".arc_min_price").text(t(this).val()):s.find(".arc_max_price").text(t(this).val())}),o.on("click",function(){var t,r=parseInt(s.attr("data-start")),n=parseInt(s.attr("data-stop")),o=parseInt(s.find(".arc_min_value input").val()),l=parseInt(s.find(".arc_max_value input").val()),c=o,d=l;if(""==o&&(o=0,c=parseInt(s.attr("data-min"))),(""==l||l>parseInt(s.attr("data-max")))&&(l=parseInt(s.attr("data-max")),d=parseInt(s.attr("data-max"))),o>parseInt(s.attr("data-max"))||l<o)return!1;r!==o&&(t=["min_price"]),n!==l&&(t=["max_price"]),r===o&&n===l||(s.attr("data-start",o),s.attr("data-stop",l),s.find(".arc_min_value input").val(c),s.find(".arc_max_value input").val(d),s.find(".arc_min_price").text(c),s.find(".arc_max_price").text(d),e.get_items("price",null,1,a,i),history.pushState(null,null,e.params(a,i,t,null)))})}},filter_tags:function(a,i){var e=this,r=a.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-tags"),n=[];r.find(".arc-wc-tag").filter(".checked_tag").each(function(){n.push(t(this).attr("data-tag"))}),r.find(".arc_btn_filter_items").attr("data-tags",JSON.stringify(n)),r.find(".arc-wc-tag").on("click",function(){t(this).toggleClass("checked_tag"),t(this).hasClass("checked_tag")?n.push(t(this).attr("data-tag")):n.splice(n.indexOf(t(this).attr("data-tag")),1)}),r.find(".arc_btn_filter_items").on("click",function(){var r=JSON.parse(t(this).attr("data-tags"));e.compare(n,r)||(e.get_items("tags",null,1,a,i),history.pushState(null,null,e.params(a,i,["tags"],null)))})},filter_attributes:function(a,i){var e=this,r=a.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-attributes"),n=[];r.find(".arc-wc-attr").filter(".arc_check_attr").each(function(){n.push(t(this).attr("data-attr"))}),r.attr("data-attr-checked",JSON.stringify(n)),r.find(".arc_btn_filter_items").attr("data-attributes",JSON.stringify(n)),r.find(".arc-wc-attr").on("click",function(){r.removeClass("active").addClass("not_active"),t(this).closest(r).removeClass("not_active").addClass("active"),t(this).toggleClass("arc_check_attr");var s=t(this).closest(r).attr("data-wc-attr");n=e.attributes("get",s,a,i),t(this).closest(r).attr("data-attr-checked",JSON.stringify(n))}),r.find(".arc_btn_filter_items").on("click",function(){var n=JSON.parse(t(this).attr("data-attributes")),s=JSON.parse(t(this).closest(r).attr("data-attr-checked"));e.compare(s,n)||(e.get_items("attributes",t(this).closest(r).attr("data-wc-attr"),1,a,i),history.pushState(null,null,e.params(a,i,[t(this).closest(r).attr("data-wc-attr")],null)))})},is_mobile:function(){var a;return a=t(window).width()<992,t(window).on("resize",function(){a=t(window).width()<992}),a},loadmore:function(a,i){function e(){function e(e){o.animateItems(a,i,"load",e,c),a.hasClass("loaded_items")||a.addClass("loaded_items");var n=o.option.filterNav.filter('[data-category ~= "all"]').attr("data-loaded");o.option.filterNav.each(function(){var i=t(this);if("ajax"==o.option.type){var r,s=i.attr("data-category").toLowerCase();"all"==s?(a.find(".arcfilter-item").each(function(){t(this).attr("all","")}),r=a.find(".arcfilter-item").filter("[all='']").length):r=a.find(".arcfilter-item").filter('[data-categories ~= "'+s+'"]').length,i.attr("data-loaded",r)}else{var l,c=i.attr("data-category").toLowerCase();a.find(".arc-item-shown:visible").each(function(){if(-1!==t(this).attr("data-categories").toLowerCase().indexOf(c)&&!t(this).hasClass("is_loaded")){if(l=a.find(".arc-item-shown:visible").filter(':visible[data-categories ~= "'+c+'"]'),i.filter('[data-category ~= "'+c+'"]').attr("data-loaded",l.length),"all"==c&&!o.option.filterNav.filter('[data-category ~= "all"]').hasClass("arc-filter-cl")){var r=parseInt(n)+e.length;o.option.filterNav.filter('[data-category = "all"]').attr("data-loaded",r)}setTimeout(function(){a.find(".arc-item-shown:visible").addClass("is_loaded"),l=a.find(".arc-item-shown.is_loaded").filter('[data-categories ~= "'+c+'"]');var t=a.find(".arcfilter-item.is_loaded").filter('[data-categories ~= "'+c+'"]'),e=Math.abs(l.length-t.length);i.filter('[data-category ~= "'+c+'"]').attr("data-loaded",l.length+e)},100)}})}}),setTimeout(function(){l=!1},r-o.option.delayAnimation)}var r=o.option.delayAnimation*o.option.loadItems;if("hidden"==o.option.type){e(a.find(".arc-item-shown:not(:visible):lt("+o.option.loadItems+")")),(o.option.loading="button"==o.option.chooseLoad)&&setTimeout(function(){s("oldText")},r-o.option.delayAnimation)}else if("ajax"==o.option.type&&o.option.filterNav.filter(".arc-filter-cl").attr("data-items")>a.find(".arc-item-shown").length){var n=[];if(a.find(".arcfilter-item").each(function(){n.push(t(this).attr("data-number"))}),0==l){var d={action:"arcfilter_load_items",security:arcfilter_ajax.arcfilter_load_items,category:o.option.filterNav.filter(".arc-filter-cl").attr("data-category"),all_items:n,group_id:a.closest(".arcfilter-group").attr("data-group-id")};t.ajax({url:arcfilter_ajax.ajaxurl,type:"POST",data:d,success:function(i){t(i).appendTo(a.find(".row")).addClass("arc-item-shown").fadeOut(0);var r=a.find(".arc-item-shown:not(:visible):lt("+o.option.loadItems+")"),n=0;r.find("img[src !='']").length?r.find("img[src !='']").on("load",function(){++n==r.find("img[src !='']").length&&(e(r),"button"==o.option.chooseLoad&&s("oldText"))}):(e(r),"button"==o.option.chooseLoad&&s("oldText"))},error:function(t){console.log("Items can not be loaded!!")}})}}(o.option.loading="button"==o.option.chooseLoad)&&s("loadText"),l=!0}function r(){var t;"hidden"==o.option.type?(t=a.find(".arc-item-shown").length,a.find(".arc-item-shown:visible").length>=t&&(c=0)):(t=a.find(".arc-item-shown:visible").length)>=o.option.filterNav.filter(".arc-filter-cl").attr("data-items")&&(c=0)}function n(){a.on("DOMMouseScroll mousewheel touchmove",function(){var i=a.find(".arc-item-shown:visible").last();t(window).height();if(i.length)var e=i.offset().top+i.height()/2;var r=t(window).height(),n=t(window).scrollTop();c=e<n+r?1:0})}function s(i){var e,r;if("hidden"==o.option.type?(e=a.find(".arc-item-shown").length,(r=a.find(".arc-item-shown:visible").length)>=e&&(c=0)):(e=a.find(".arc-item-shown:visible").length)>=(r=o.option.filterNav.filter(".arc-filter-cl").attr("data-items"))&&(c=0),"oldText"==i)o.option.loadButton.find("span.arc-load-text").animate({opacity:0},150).queue(function(){t(this).text(d),t(this).dequeue()}).animate({opacity:1},150);else if("loadText"==i){if(!0!==o.option.loading)return!1;if(1==c){if(l)return!1;o.option.loadButton.find("span.arc-load-text").animate({opacity:0},150).queue(function(){t(this).text(o.option.loadingText),t(this).dequeue()}).animate({opacity:1},150)}}else"newText"==i&&e==r&&0==c&&o.option.loadButton.find("span.arc-load-text").animate({opacity:0},150).queue(function(){t(this).text(o.option.noData),t(this).dequeue()}).animate({opacity:1},150)}var o=this,l=!1,c=1;if(o.option.filterNav.on("click",function(){c=1}),"button"===o.option.chooseLoad){var d=o.option.loadButton.find("span.arc-load-text").text();o.option.filterNav.on("click",function(){if(o.option.loadButton.has(":contains("+o.option.noData+")").length||s("newText"),o.option.loadButton.has(":contains("+o.option.noData+")").length&&a.find(".arcfilter-item:visible").length<t(this).attr("data-items")&&1==o.option.loading&&"button"==o.option.chooseLoad&&s("oldText"),0==t(this).attr("data-loaded")&&(1==o.option.loading&&"button"==o.option.chooseLoad&&s("newText"),r(),1===c)){if(l)return!1;e()}}),o.option.loadButton.on("click",function(){if(1==o.option.loading&&"button"==o.option.chooseLoad&&s("newText"),r(),1===c){if(l)return!1;e()}})}else"scroll"===o.option.chooseLoad&&(a.on("DOMMouseScroll mousewheel",function(t){if(r(),1===c&&(t.originalEvent.detail>0||t.originalEvent.wheelDelta<0)){if(l)return!1;n(),e()}}),a.on("touchmove",function(t){r(),1===c&&(n(),e())}),t(window).resize(n))},filterCategory:function(a,i,e,r){var n=this;if(a.find(".arcfilter-item").each(function(){var a=t(this).attr("data-categories").toLowerCase();"all"===e||-1!==a.indexOf(e)?t(this).removeClass("arc-item-hidden").fadeOut().finish().promise().done(function(){t(this).addClass("arc-item-shown")}):t(this).addClass("arc-item-hidden").fadeOut().finish().promise().done(function(){t(this).removeClass("arc-item-shown")})}),"pagination"==n.option.chooseLoad)if(1==r)n.pagination(a,i,"set_height",r);else{if("all"!==n.option.displayItems){var s=["tcardArc_category","tcardArc_page"];history.pushState(null,null,n.params(a,i,s,1))}n.pagination(a,i,"menuLink",r)}else n.animateCategory(a,i,e,r),"hidden"==n.option.type&&a.find(".arc-item-shown:visible").addClass("is_loaded");1==r&&n.option.filterNav.each(function(){var i,e=t(this).attr("data-category").toLowerCase();(i=a.find(".arc-item-shown:visible").filter('[data-categories ~= "'+e+'"]')).length?t(this).filter('[data-category ~= "'+e+'"]').attr("data-loaded",i.length):t(this).filter('[data-category ~= "'+e+'"]').attr("data-loaded",0)})},pagination:function(a,i,e,r){var n=this,s=a.closest(".arcfilter-group").find(".arc-page"),o=n.option.filterNav.filter(".arc-filter-cl").attr("data-category"),l=(Math.ceil(parseInt(n.option.filterNav.filter(".arc-filter-cl").attr("data-items"))/n.option.displayItems),0),c=["tcardArc_category","tcardArc_page"];if("set_height"==e){n.animateItems(a,i,"pagination",a.find(".arc-item-shown"),r);var d;d="all"==n.option.displayItems?1:n.option.page,n.count_pages(d,a,i)}else if("menuLink"==e)n.get_items(null,null,1,a,i);else if("pageLink"==e){s.on("click",function(){t(this).hasClass("active-page")||(s.removeClass("active-page"),t(this).addClass("active-page"),o=n.option.filterNav.filter(".arc-filter-cl").attr("data-category"),"all"!==n.option.displayItems&&history.pushState(null,null,n.params(a,i,c,null)),n.get_items(null,null,t(this).attr("data-page"),a,i),l=t(this).index())}),l=s.filter("[data-page="+n.option.page+"]").index(),t(".arc-arrow_pagination").on("click",function(){l=parseInt(s.filter(".active-page").attr("data-page"))-1,t(this).hasClass("arc-arrow-prev")?l>0&&f(--l):l<s.filter(":visible").length-1&&f(++l)});function f(e){s.eq(e).each(function(){t(this).hasClass("active-page")||(s.removeClass("active-page"),t(this).addClass("active-page"),o=n.option.filterNav.filter(".arc-filter-cl").attr("data-category"),"all"!==n.option.displayItems&&history.pushState(null,null,n.params(a,i,c,null)),n.get_items(null,null,t(this).attr("data-page"),a,i))})}}},get_items:function(a,i,e,r,n){var s,o=this,l=[],e=parseInt(e)-1;null==a&&r.find(".arcfilter-item:visible").each(function(){l.push(t(this).attr("data-number"))});var c,d=r.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar");if(d.length){var f=o.price(r,n).min,u=o.price(r,n).max,h=o.tags("get",r,n),p=o.attributes("send",i,r,n);s={action:"arcfilter_load_items",security:arcfilter_ajax.arcfilter_load_items,tcardArc_category:o.option.filterNav.filter(".arc-filter-cl").attr("data-category"),start_page:e,min_price:f,max_price:u,tags:h,attributes:p,pageurl:arcfilter_ajax.pageurl,all_items:l,group_id:r.closest(".arcfilter-group").attr("data-group-id")}}else s={action:"arcfilter_load_items",security:arcfilter_ajax.arcfilter_load_items,tcardArc_category:o.option.filterNav.filter(".arc-filter-cl").attr("data-category"),start_page:e,pageurl:arcfilter_ajax.pageurl,all_items:l,group_id:r.closest(".arcfilter-group").attr("data-group-id")};r.find(".arcfilter-item").remove(),r.closest(".arcfilter-group").find(".arcfilter_loader").css("visibility","visible"),t.ajax({url:arcfilter_ajax.ajaxurl,type:"POST",data:s,success:function(a){r.find(".row").html(t(a).css("display","none").addClass("arc-item-shown"));var s=0;r.find(".arc-item-shown").find("img[src !='']").length?r.find(".arc-item-shown").find("img[src !='']").on("load",function(){++s==r.find(".arc-item-shown").find("img[src !='']").length&&o.animateItems(r,n,"pagination",r.find(".arc-item-shown"),stop)}):o.animateItems(r,n,"pagination",r.find(".arc-item-shown"),stop),o.count_pages(e+1,r,n),d.length&&(c=JSON.stringify(o.attributes("get",i,r,n)),d.find(".arc-wc-attributes").filter("[data-wc-attr="+i+"]").find(".arc_btn_filter_items").attr("data-attributes",c),c=JSON.stringify(o.tags("get",r,n)),d.find(".arc-wc-tags .arc_btn_filter_items").attr("data-tags",c),d.find(".arc-wc-price").hasClass("slider")?d.find(".arc-wc-price #arc-slider-range").slider("option","values",[f,u]):(d.find(".arc_price_values").attr("data-start",f),d.find(".arc_price_values").attr("data-stop",u))),r.closest(".arcfilter-group").find(".arcfilter_loader").css("visibility","hidden")},error:function(t){console.log("Items can not be loaded!!")}})},count_pages:function(t,a,i){var e,r=this,n=a.closest(".arcfilter-group").find(".arc-page"),s=r.option.filterNav.filter(".arc-filter-cl").attr("data-category"),o=parseInt(a.find(".arcfilter-item").eq(0).attr("data-count")),l=parseInt(r.option.filterNav.filter(".arc-filter-cl").attr("data-items"));if(a.hasClass("arc_woocommerce")?(e=Math.ceil(o/r.option.displayItems),o>l&&(e=Math.ceil(l/r.option.displayItems))):e=Math.ceil(l/r.option.displayItems),n.removeClass("active-page"),n.filter("[data-page="+t+"]").addClass("active-page"),0==e&&(e=1),e>0)if(e<n.filter(":visible").length)n.eq(e-1).nextAll().fadeOut(100);else if("all"==s)e==n.length?n.fadeIn(100):n.eq(e-1).nextAll().fadeOut(100);else for(var c=0;c<e;c++)n.eq(c).fadeIn(100)},params:function(t,a,i,e){function r(t){for(var a=window.location.search.substring(1).split("&"),i={},e=0;e<a.length;e++){var r=a[e].split("=");r[0]==t&&(i[r[0]]=r[1])}return i}function n(i){switch(i){case"tcardArc_category":l[i]=d;break;case"tcardArc_page":l[i]=s;break;case"min_price":o.price(t,a).min>0&&(l[i]=o.price(t,a).min);break;case"max_price":o.price(t,a).max>0&&(l[i]=o.price(t,a).max);break;case"tags":o.tags(null,t,a).length&&(l[i]=o.tags(null,t,a));break;case i:o.attributes(null,i,t,a).length&&(l[i]=o.attributes(null,i,t,a))}}for(var s,o=this,l={},c=[],d=o.option.filterNav.filter(".arc-filter-cl").attr("data-category"),f=[],u=0;u<o.option.use_param.length;u++)f.push(o.option.use_param[u]);t.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-attributes");s=1==e?e:t.closest(".arcfilter-group").find(".arc-page.active-page").attr("data-page");for(u=0;u<f.length;u++)if(c[u]=r(f[u]),void 0!==c[u][f[u]])n(Object.keys(c[u])[0]);else for(var h=0;h<i.length;h++)i[h]==f[u]&&n(i[h]);return"?"+jQuery.param(l)},compare:function(t,a){return JSON.stringify(t.sort())===JSON.stringify(a.sort())},price:function(a,i){var e,r,n,s=a.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-price");return s.length?(s.hasClass("slider")?(e=s.find("#arc-slider-range"),r=e.attr("data-start"),n=e.attr("data-stop")):(e=s.find(".arc_price_values"),r=e.attr("data-start"),n=e.attr("data-stop"),e.find("input").each(function(){t(this).parent().hasClass("arc_min_value")?r!==t(this).val()&&(r=t(this).val()):n!==t(this).val()&&(n=t(this).val())})),r=parseInt(r),n=parseInt(n)):(r="",n=""),s={min:r,max:n}},tags:function(a,i,e){var r=[];return i.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-tags").find(".arc-wc-tag").filter(".checked_tag").each(function(){r.push(t(this).attr("data-tag"))}),"get"==a?r:r.join(" ")},attributes:function(a,i,e,r){var n=e.closest(".arcfilter-group").find(".arcfilter-menu.arc-nav-sidebar .arc-wc-attributes"),s={},o=[];return Array.isArray(parent)&&(parent=parent[0]),n.filter("[data-wc-attr="+i+"]").find(".arc-wc-attr.arc_check_attr").each(function(){o.push(t(this).attr("data-attr"))}),"send"==a&&n.each(function(){var a=t(this).attr("data-wc-attr");t(this).find(".arc-wc-attr.arc_check_attr").each(function(){o[a]?o[a]+=","+t(this).attr("data-attr"):o[a]=t(this).attr("data-attr")}),o[a]&&(s[a]=o[a].split(","))}),"get"==a?o:"send"==a?JSON.stringify(s):o.join(" ")},animateItems:function(a,i,e,r,n){var s,o=this,l=o.option.animations.length-.5;if(!1===o.option.random?s=0:!0===o.option.random&&(s=Math.round(Math.random()*l)),Array.isArray(o.option.animations)){var c=o.option.animations[s];if(!1===o.option.random||!0===o.option.random)for(p=0;p<o.option.animations.length;p++)a.find(".arc-item-hidden").removeClass(o.option.animations[p]),r.removeClass(o.option.animations[p])}else c=o.option.animations,a.find(".arc-item-hidden").removeClass(c),r.removeClass(c);if("load"==e&&"hidden"==o.option.type){var d=parseInt(o.option.filterNav.filter("[data-category ~='all']").attr("data-loaded"));r.each(function(i){a.find(".arcfilter-item:eq("+t(this).index()+")").insertBefore(a.find(".arcfilter-item:eq("+(d+i)+")"))})}if(r.css("display","block"),r.find(".tcard").length&&"ajax"==o.option.type){var f=o.option.filterNav.filter(".arc-filter-cl").attr("data-tcard"),u=(r.find(".tcard").filter("."+f),[]);o.option.filterNav.each(function(){var a=t(this).attr("data-tcard");"all"!==a&&u.push(a)});function h(t){return t.filter(function(t,a,i){return i.indexOf(t)===a})}for(var p=0;p<h(u).length;p++)r.find("."+h(u)[p]).tcard(o.option.tcard_set[h(u)[p]])}else(r.find(".tcard").length&&"hidden"==o.option.type&&"button"==o.option.chooseLoad||"scroll"==o.option.chooseLoad)&&r.find(".tcard .tcard-slider").each(function(){var a=t(this),i=a.find(".tcs-inner"),e=a.outerHeight()-a.height(),r=a.find(".tcs-item"),n=r.filter(".active").index();a.css({height:r.eq(n).outerHeight()+e}),r.css("width",a.outerWidth()/1),containerWidth=(r.length+1)*a.outerWidth(),i.css("width",containerWidth)});"load"==e?o.resizeContainer(a,i,"oldHeight"):0==n?o.resizeContainer(a,i,"oldHeight"):o.resizeContainer(a,i,"statikHeight"),r.each(function(a){!1!==o.option.random&&!0!==o.option.random||t(this).addClass(c).css("animation-delay",o.option.delayAnimation*a+"ms")})},animateCategory:function(a,i,e,r){var n,s=this,o=s.option.animations.length-.5;!1===s.option.random?n=0:!0===s.option.random&&(n=Math.round(Math.random()*o));var l;if(l="all"==s.option.displayItems?a.find(".arc-item-shown"):void 0!==s.option.filterNav.filter(".arc-filter-cl").attr("data-loaded")?a.find(".arc-item-shown:lt("+s.option.filterNav.filter(".arc-filter-cl").attr("data-loaded")+")"):a.find(".arc-item-shown:lt("+s.option.displayItems+")"),Array.isArray(s.option.animations)){var c=s.option.animations[n];if(!1===s.option.random||!0===s.option.random)for(var d=0;d<s.option.animations.length;d++)a.find(".arc-item-hidden").removeClass(s.option.animations[d]),l.removeClass(s.option.animations[d])}else c=s.option.animations,a.find(".arc-item-hidden").removeClass(c),l.removeClass(c);l.css("display","block"),l.find(".tcard .tcard-slider").length&&l.find(".tcard .tcard-slider").each(function(){var a=t(this),i=a.find(".tcs-inner"),e=a.outerHeight()-a.height(),r=a.find(".tcs-item"),n=r.filter(".active").index();a.css({height:r.eq(n).outerHeight()+e}),r.css("width",a.outerWidth()/1),containerWidth=(r.length+1)*a.outerWidth(),i.css("width",containerWidth)}),1===r?s.resizeContainer(a,i,"statikHeight"):s.resizeContainer(a,i,"oldHeight"),l.each(function(a){!1!==s.option.random&&!0!==s.option.random||t(this).addClass(c).css("animation-delay",s.option.delayAnimation*a+"ms")})},resizeContainer:function(a,i,e){function r(){a.stop().animate({height:d},l.option.speed)}function n(){o=a.find(".arc-item-shown:visible").last(),s=o.length?o.offset().top-a.offset().top+o.outerHeight():200;var i=[];return a.find(".arc-item-shown:visible").each(function(){i.push(Math.round(t(this).offset().top-a.offset().top+t(this).outerHeight()))}),i.sort(function(t,a){return a-t}),s<i[0]&&(s=Math.round(i[0])),s=Math.round(s)}var s,o,l=this;a.innerWidth(),a.width(),l.orderItems(a,i,a.find(".arc-item-shown:visible"),"new");var c,d=n();t(window).on("resize",function(){var t=a.find(".arc-item-shown:visible");l.orderItems(a,i,t,"resize"),d=n(),clearTimeout(c),c=setTimeout(function(){var t=a.find(".arc-item-shown:visible");l.orderItems(a,i,t,"resize"),d=n(),r()},350)}),"statikHeight"===e?(a.css("height",d),t(window).resize(r)):"newHeight"!==e&&"oldHeight"!==e||(r(),t(window).resize(r)),"shown"===l.option.counter?l.countCategory(a,i,"shown"):"onhover"===l.option.counter?l.countCategory(a,i,"onhover"):!1===l.option.counter&&l.countCategory(a,i,"false")},orderItems(a,i,e,r){if(Array.prototype.min=function(){return Math.min.apply({},this)},e.length){for(var n=e.outerWidth(),s=Math.round(a.width()/n),o=new Array,l=0;l<s;l++)o[l]=0;e.css({position:"absolute",display:"block"}).each(function(){for(var a=s-1;a>-1;a--)if(o[a]==o.min())var i=a;"new"==r?t(this).css({top:o[i],left:n*i}):"resize"==r&&t(this).stop().animate({top:o[i],left:n*i},350),o[i]+=t(this).outerHeight(!0)})}},countCategory:function(a,i,e){function r(i){i.each(function(){var i,e=t(this).attr("data-category").toLowerCase();"ajax"==n.option.type?i=t(this).attr("data-items"):"all"==e?(a.find(".arcfilter-item").each(function(){t(this).attr("all","")}),i=a.find("[all='']").length):i=a.find(".arcfilter-item").filter('[data-categories ~= "'+e+'"]').length,"shown"===n.option.counter?t(this).find(".arc-filter-counter").html("("+i+")"):"onhover"===n.option.counter&&(t(window).width()>991&&!t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar")?t(this).find(".sub-items-counter").length||t(this).find(".arc-filter-counter").html(i):(t(window).width()>991&&t(this).closest(".arcfilter-menu").hasClass("arc-nav-sidebar"),t(this).find(".arc-filter-counter").html("("+i+")")))})}var n=this;n.option.filterNav.find(".sub-items-counter").each(function(){var i,e=t(this).parent().attr("data-category").toLowerCase();"ajax"==n.option.type?i=t(this).parent().attr("data-items"):"all"==e?(a.find(".arcfilter-item").each(function(){t(this).attr("all","")}),i=a.find("[all='']").length):i=a.find(".arcfilter-item").filter('[data-categories ~= "'+e+'"]').length,t(this).html("("+i+")")}),"shown"===e?n.option.filterNav.each(function(){r(t(this))}):"onhover"===e?t(window).width()>991?n.option.filterNav.on({mouseenter:function(){r(t(this)),t(this).addClass("arc-counter-active")},mouseleave:function(){n.option.filterNav.removeClass("arc-counter-active")}}):n.option.filterNav.each(function(){r(t(this))}):"false"===e&&n.option.filterNav.on({mouseenter:function(){n.option.filterNav.removeClass("arc-counter-active")}})}},t.fn.arcfilter=function(i){var e=t.data(this,"arcfilter");if(void 0===e)return i=i||{},t.data(this,"arcfilter",new a(this,i)),this;if(t.isFunction(a.prototype[i])){var r=Array.prototype.slice.call(arguments);return r.shift(),a.prototype[i].apply(e,r)}return i&&t.error("Method "+i+" does not exist on arcfilter"),this}}(jQuery);